plugins {
	id 'idea'
	id 'java-library'
	id 'maven-publish'

	id 'com.jfrog.artifactory' version '4.32.0'
	id 'org.openapi.generator'
}

repositories {
	maven { url 'https://broadinstitute.jfrog.io/artifactory/maven-central' }
	mavenCentral()
}

ext {
	// these will be overridden by dependencies-jakarta.gradle or dependencies-javax.gradle
	useJakartaEe = ""
	libraryName = ""
}

// default to javax, since WDS is currently on Spring Boot 2. -Pjakarta=true overrides
// the default and creates a Jakarta-based client.
if (project.hasProperty("jakarta") && "true".equalsIgnoreCase(project.getProperty("jakarta"))) {
	apply from: "dependencies-native-jakarta.gradle"
} else {
	apply from: "dependencies-native-javax.gradle"
}

logger.warn("***** building library ${libraryName}")
logger.warn("***** specify -Pjakarta=(true|false) to control which library this task creates")

apply from: 'artifactory.gradle'
apply from: 'swagger.gradle'
