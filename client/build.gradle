plugins {
	id 'idea'
	id 'java-library'
	id 'maven-publish'

	id 'com.jfrog.artifactory' version '4.32.0'
	id 'org.openapi.generator'
}

repositories {
	maven { url 'https://broadinstitute.jfrog.io/artifactory/maven-central' }
	mavenCentral()
}

ext {
	useJakartaEe = "false"
	libraryName = "workspacedataservice-client-okhttp-javax"
}

if (project.hasProperty("jakarta") && "true".equalsIgnoreCase(project.getProperty("jakarta"))) {
	ext.useJakartaEe = project.getProperty("jakarta")
	ext.libraryName = "workspacedataservice-client-okhttp-jakarta"
}

logger.warn("***** building library ${libraryName}")
logger.warn("***** specify -Pjakarta=(true|false) to control which library this task creates")

apply from: 'artifactory.gradle'
apply from: 'swagger.gradle'
